# E2-EX 危险品放置
## 题目描述
现有若干危险品需要放置在$A$，$B$两个仓库。

当两种特定的危险品放置在相同地点时即可能产生危险。我们用危险系数$\alpha_{i,j}$表示危险品$i$，$j$放置在一起的危险程度。一些危险品即使放置在一起也不会产生任何危险，此时$\alpha_{i,j}=0$，还有一些危险品即使单独放置也会产生危险，此时$\alpha_{i,i}>0$。

定义两个仓库整体的危险系数为$\max(\displaystyle \max_{i,j\in A}\alpha_{i,j},\, \displaystyle  \max_{i,j\in B}\alpha_{i,j})$，即放置在一起的所有危险品两两组合的危险系数的最大值。

现在对于一组给定的危险系数，需要设计方案使得整体危险系数最小。

## 输入格式
输入数据共$m + 1$行。

第一行两个整数$n$和$m$表示共有$n$种危险品，危险品之间的危险组合（危险系数非零的物品组合）共$m$种。

接下来的$m$行，每行三个整数$i$，$j$，$\alpha_{i,j}$，表示$(i,\,j)$为危险组合（$i$，$j$可能相等），其危险系数为$\alpha_{i,j}>0$。

## 输出格式
输出共一行，包含一个整数，表示整体危险系数的最小值。

## 数据规模：

$0 < n \leq 10^5$

$0 < m \leq 10^6$



# 解题报告
## 初始思路
由于需要将危险品放置在不相关的两个仓库中，并求危险系数最大值的最小值，考虑到我们只关注相关危险系数在分割后的最大值，目的是通过隔离相关的两个危险品删除较大的危险系数。因此将各种危险品视为顶点，危险系数（包括非危险组合的零系数）视为边权，依次考虑当前最大的系数$\alpha_{i,j},\ i \neq j$，将边$\langle i,\,j \rangle$断开，**直到将图分为两个连通片即不再连通，或最大的危险系数来自于单独放置的危险品自身为止**，此时最大的危险系数即所求。

关于算法终止的条件，问题转化为一个关于图是否连通的判断，然而注意到以上设定下的这张图是一个完全图，边数为$\displaystyle \frac{n(n-1)}{2}$，而在含如此数量的边数的图中跑DFS是不可以接受的。转换思路，假设开始时顶点各自不相邻，从危险系数最小的边出发，按权值从小到大的顺序将边加入图中，并判断图是否连通，于是这里的连通性判断即可转换为**并查集问题**：每插入一条边即执行一次UNION操作，直到某次插入会使得图连通，前一条插入边的权值即满足要求。自相关情况也仅需要更新最大值即可。

完成上述设计后一个细节问题出现了，输入并不保证每一个危险品都有非零的危险关系，即可能有不在输入中出现的顶点。但实际上如果这样顶点的存在对于题目的解答没有任何影响：在任何情况下它都不会产生威胁，我们只需要找出这样的顶点并将初始连通片的个数从$n$适当减少就可以完成对其的忽视。

## 提交与修改过程
初次提交结果[PA](https://202.38.86.171/status/71f00c0d7a592aac18843e95c53b165f)，简单检查之后，发现对于**自相关情况**的处理不够好，因为不论为图增边的过程在何处停止，自相关的危险系数都可能成为最后的最大值。且单独出现的自相关危险系数和没有出现的顶点一样，不应当成为初始连通片


## 算法分析
### 时间复杂度

### 空间复杂度

## 总结
