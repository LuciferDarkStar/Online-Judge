# E4-1 基站放置
## 题目描述
现有$N$个村庄排成一排，在这些村庄里需要挑选若干村庄搭建基站，其中基站的覆盖半径为$R$。

假设在村庄$i$处放置基站，村庄$i$的坐标为$X_i$，则处在$[X_i - R, X_i + R]$范围内的村庄都能被该基站所覆盖。

在给出所有村庄坐标的情况下，求使所有村庄都能被基站覆盖所需要的最少的基站个数。

## 输入格式
第一行包含两个整数$N,\,R$分别表示村庄个数和基站覆盖半径。

接下来的$N$行每行一个整数$X_i$表示村庄$i$的坐标。

## 输出格式
输出一个整数表示最少需要搭建的基站数目。

## 数据规模：
$N \leq 100000$

$R \leq 1000$

$X_i \leq 1000000$

# 解题报告
## 初始思路
本题与*CLRS Exercise 16.2-5*类似，可以用**贪心**的思想解决，对于给定的村庄，设其最小坐标为$X_min$，则一定有一个最优解在$X_min + R$处放置基站，覆盖$[X_min, X_min + 2R]$，这样覆盖的村庄数一定不小于其他最优解方案。对于坐标大于$X_min + 2R$的剩余村庄，迭代使用上述算法，仍可以在其中坐标最小村庄$+R$处放置基站，直到所有村庄均被覆盖。

对于输入的$X_1, X_2, \cdots, X_N$，首先将其从小到大排序，之后维护**当前基站数目**`number`以及最右侧基站所能覆盖的最右端`farthestPoint`，对于所有村庄进行一次遍历即可得出结果。
## 提交与修改过程
首次提交[Partial Accepted](https://202.38.86.171/status/6f078deb8a2ae8eaee11e5d1342cfa29)，仅有首个数据点通过，检查后发现对**题意理解有误**，本题要求基站需要基站放置在某个村庄处。贪心的条件仍成立，修改算法如下：将覆盖最远端改为维护**最远基站位置**`farthestPoint`，额外维护一个**最近未被覆盖的村庄坐标值**`theUncovered`，当前述遍历过程出现不再能覆盖最近未被覆盖的村庄时，在上一个村庄放置基站，每次放置一个基站都向后移动`theUncovered`至最远的无法覆盖的村庄，并对最后一个端点额外判定一次。

再次提交即[Accepted](https://202.38.86.171/status/59b62010faa68eba3c7fdb7f21e41625)

## 算法分析
### 时间复杂度
在算法主体循环变量`i`的遍历中，`farthestPoint`和`theUncovered`的移动都是单向的，因此消耗的时间是线性的，即这部分时间复杂度是$O(n)$，对于数组`X`的排序消耗时间为$O(n\lg{n})$，因此算法总的时间复杂度为$O(n\lg{n})$。

### 空间复杂度
算法除了前述几个标志变量外不需要额外的存储空间，对于输入的村庄坐标，消耗的空间是$O(n)$的。

## 总结
本题难度相对较低，基于贪心的算法设计较为简单，在排序后一次循环即可解决问题。完成时出现的一点小问题是对题意理解的想当然，需要在之后的学习实践中加以注意。