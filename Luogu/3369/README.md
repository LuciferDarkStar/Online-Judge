# P3369 【模板】普通平衡树
## 题目描述
您需要写一种数据结构（可参考题目标题），来维护一些数，其中需要提供以下操作：

1. 插入 $x$ 数
2. 删除 $x$ 数（若有多个相同的数，应只删除一个）
3. 查询 $x$ 数的排名（排名定义为比当前数小的数的个数 $+1$ ）
4. 查询排名为 $x$ 的数
5. 求 $x$ 的前驱（前驱定义为小于 $x$，且最大的数）
6. 求 $x$ 的后继（后继定义为大于 $x$，且最小的数）

## 输入格式
第一行为 $n$，表示操作的个数,下面 $n$ 行每行有两个数 opt 和 $x$，opt 表示操作的序号（ $1 \leq \text{opt} \leq 6$）

## 输出格式
对于操作 3,4,5,6 每行输出一个数，表示对应答案



# 解题报告
**Size Balanced Tree**(**SBT**)是一种平衡二叉查找树。它的论文由中国广东中山纪念中学的陈启峰于2006年底完成，并在*Winter Camp 2007*中发表。SBT易于实现，且据陈启峰论文中所言，“这是目前为止速度最快的高级二叉搜索树”。**它能在$O(\log{n})$的时间内完成所有BST的相关操作。**而且由于SBT赖以保持平衡的是`size`域而不是其他额外的域，它可以很方便地实现动态顺序统计中的`OS_Select`和`OS_Rank`操作。

SBT要求每个子树的`size`不小于其兄弟节点左右子树的`size`，即对于节点$x$，应有
$$
\begin{align*}
    x.left.size & \geq \max{\{ x.right.left.size,\, x.right.right.size \}} \\
    x.right.size & \geq \max{\{ x.left.left.size,\, x.left.right.size \}}
\end{align*}
$$
